import{d as m,f as p,c as f,a as o,e as b,w as a,v as l,g,h as x,i as w,j as k,k as v,o as h}from"./index-DY7gOG1B.js";import{u as i}from"./baseApi-S-v2IPgF.js";import{a as y,b as I}from"./index-C1ID3cEy.js";const S={async login(t){const s=await I.post(i.login,t);return sessionStorage.setItem("access_token",s.data.access),sessionStorage.setItem("refresh_token",s.data.refresh),s},async refreshToken(){const t=sessionStorage.getItem("refresh_token"),s=await y.post(i.refresh,{refresh:t});return sessionStorage.setItem("access_token",s.data.access),s.data},logout(){sessionStorage.removeItem("access_token"),sessionStorage.removeItem("refresh_token")}},_={class:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md"},C={class:"mb-4"},V={class:"mb-6"},N=m({__name:"Login",setup(t){const s=p({username:"",password:""}),u=v(),d=()=>S.login(s).then(()=>u.push("/")).catch(n=>console.log(n));return(n,e)=>{const c=x("RouterLink");return h(),f("div",_,[e[6]||(e[6]=o("h2",{class:"text-2xl font-bold mb-6 text-center"},"Iniciar Sesión",-1)),o("form",{onSubmit:w(d,["prevent"])},[o("div",C,[e[2]||(e[2]=o("label",{for:"email",class:"block text-gray-700 text-sm font-bold mb-2"},"Correo Electrónico",-1)),a(o("input",{type:"text",id:"email","onUpdate:modelValue":e[0]||(e[0]=r=>s.username=r),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Ingresa tu correo electrónico"},null,512),[[l,s.username]])]),o("div",V,[e[3]||(e[3]=o("label",{for:"password",class:"block text-gray-700 text-sm font-bold mb-2"},"Contraseña",-1)),a(o("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=r=>s.password=r),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Ingresa tu contraseña"},null,512),[[l,s.password]])]),e[5]||(e[5]=o("button",{type:"submit",class:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:bg-blue-600"}," Iniciar Sesión ",-1)),b(c,{to:"/",class:"rounded-lg hover:underline flex items-center justify-center"},{default:g(()=>e[4]||(e[4]=[k(" Cancelar ")])),_:1})],32)])}}});export{N as default};
