import{d as m,f as c,m as p,c as v,a as r,e as f,t as s,g as y,u as b,R as h,w as R,v as w,i as g,n as x,j as D,k as _,o as k}from"./index-DY7gOG1B.js";import{R as n}from"./reservations-CON2rjEj.js";import"./index-C1ID3cEy.js";const S={class:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md"},V={class:"text-2xl font-bold mb-4"},B={class:"mb-4"},I=m({__name:"ReservationEdit",setup(E){const o=x(),i=_(),e=c({reservationDay:"",phone:0,user:0,username:"",id:0}),d=async()=>{try{await n.retrieveReservation(String(o.params.id)).then(t=>{e.reservationDay=t.data.reservationDay,e.phone=t.data.phone,e.user=t.data.userId,e.username=t.data.user,e.id=t.data.id})}catch(t){alert(t)}},u=async()=>{try{await n.updateReservation(e,String(o.params.id)).then(()=>{alert("Reserva confirmada"),i.push("/reservation")})}catch{alert("Error al reservar")}};return p(()=>{d()}),(t,a)=>(k(),v("div",S,[r("h2",V," Reservar turno de "+s(e.username)+" con numero de contacto "+s(e.phone),1),f(b(h),{to:"/"},{default:y(()=>a[1]||(a[1]=[D("Inicio")])),_:1}),r("form",{onSubmit:g(u,["prevent"])},[r("div",B,[a[2]||(a[2]=r("label",{class:"block text-gray-700"},"Dia",-1)),R(r("input",{type:"datetime-local",id:"reservationDay",class:"w-full p-2 border rounded",required:"","onUpdate:modelValue":a[0]||(a[0]=l=>e.reservationDay=l)},null,512),[[w,e.reservationDay]])]),a[3]||(a[3]=r("button",{class:"w-full bg-gray-500 text-white p-2 rounded hover:bg-blue-600",type:"submit"}," Reservar ",-1))],32)]))}});export{I as default};
